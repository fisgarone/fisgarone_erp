{% extends "base.html" %}

{% block title %}Dashboard Executivo â€¢ FISGARONE ERP{% endblock %}

{% block page_title %}Dashboard Executivo{% endblock %}

{% block content %}
    <!-- LINHA 1: MÃ‰TRICAS EM TEMPO REAL -->
    <section class="ai-section">
        <div class="section-header">
            <div class="header-content">
                <h2 class="section-title">ğŸ“Š MÃ©tricas em Tempo Real</h2>
                <p class="section-subtitle">Dados atualizados automaticamente</p>
            </div>
            <div class="header-actions">
                 <button class="ai-btn ai-btn-secondary" onclick="dashboard.exportData()">
                    ğŸ“¥ Exportar
                </button>
                <button class="ai-btn ai-btn-primary btn-with-icon" onclick="dashboard.refreshData()">
                    <span>ğŸ”„</span>
                    Atualizar Dados
                </button>
            </div>
        </div>
        <div class="metrics-top-grid" id="kpi-container"></div>
    </section>

    <!-- ... (O restante das suas seÃ§Ãµes de conteÃºdo permanece exatamente igual) ... -->
    <section class="ai-section">
        <div class="section-header">
            <h2 class="section-title">ğŸ›ï¸ Filtros AvanÃ§ados</h2>
        </div>
        <div id="filters-container"></div>
    </section>

    <section class="ai-section">
        <div class="insights-analytics-grid">
            <div>
                <h2 class="section-title">ğŸ¤– Insights Inteligentes</h2>
                <div id="insights-container"></div>
            </div>
            <div>
                <h2 class="section-title">ğŸ“ˆ Analytics AvanÃ§ados</h2>
                <div id="analytics-container"></div>
            </div>
        </div>
    </section>

    <section class="ai-section">
        <h2 class="section-title">ğŸ“Š VisualizaÃ§Ãµes GrÃ¡ficas</h2>
        <div class="visualizations-full" id="charts-container"></div>
    </section>

    <section class="ai-section">
        <div class="products-distribution-grid">
            <div>
                <h2 class="section-title">ğŸ† Top Produtos - AnÃ¡lise ABC</h2>
                <div id="abc-container"></div>
            </div>
            <div>
                <h2 class="section-title">ğŸ“Š DistribuiÃ§Ã£o por ClassificaÃ§Ã£o</h2>
                <div id="distribution-container"></div>
            </div>
        </div>
    </section>

    <section class="ai-section">
        <h2 class="section-title">ğŸ“ˆ MÃ©tricas EstratÃ©gicas</h2>
        <div class="metrics-top-grid" id="strategic-container"></div>
    </section>

    <button class="floating-action" onclick="dashboard.scrollToTop()" title="Voltar ao topo">â†‘</button>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/core/ai-engine.js') }}" defer></script>
    <script src="{{ url_for('static', filename='js/services/api-integration.js') }}" defer></script>
    <script src="{{ url_for('static', filename='js/components/modal-system.js') }}" defer></script>
    <script src="{{ url_for('static', filename='js/components/filters-system.js') }}" defer></script>
    <script src="{{ url_for('static', filename='js/components/charts-system.js') }}" defer></script>
    <script src="{{ url_for('static', filename='js/components/dashboard-manager.js') }}" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            window.dashboard = new DashboardManager();
            await dashboard.initialize();
        });
    </script>
{% endblock %}

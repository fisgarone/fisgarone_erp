<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FISGARONE AI ‚Ä¢ Dashboard Inteligente</title>

    <!-- Design System Premium -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/foundation/colors.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/foundation/typography.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/components/ai-cards.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/components/ai-buttons.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/components/filters.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/components/charts.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/layouts/main-layout.css') }}">


    <!-- Fontes Premium -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü§ñ</text></svg>">
</head>
<body>
    <div class="ai-app">
        <!-- Hero Section -->
        <header class="ai-hero">
            <div class="hero-content">
                <h1 class="ai-hero-title">FISGARONE AI</h1>
                <p class="hero-subtitle">Sistema de Gest√£o Inteligente com Automa√ß√£o Avan√ßada</p>

                <div class="hero-actions">
                    <button class="ai-btn ai-btn-primary btn-with-icon" onclick="dashboard.refreshData()">
                        <span>üîÑ</span>
                        Atualizar Dados
                    </button>

                    <div class="theme-toggle-container">
                        <span style="color: var(--ai-text-muted);">üåô</span>
                        <button class="theme-toggle" onclick="dashboard.toggleTheme()"
                                aria-label="Alternar tema claro/escuro"
                                title="Clique para alternar o tema">
                        </button>
                        <span style="color: var(--ai-text-muted);">‚òÄÔ∏è</span>
                    </div>
                </div>
        </header>

        <!-- Main Content -->
        <main class="ai-container">

            <!-- LINHA 1: M√âTRICAS EM TEMPO REAL (5 CARDS TOPO) -->
            <section class="ai-section">
                <div class="section-header">
                    <div class="header-content">
                        <h2 class="section-title">üìä M√©tricas em Tempo Real</h2>
                        <p class="section-subtitle">Dados atualizados automaticamente</p>
                    </div>
                    <div class="header-actions">
                        <button class="ai-btn ai-btn-secondary" onclick="dashboard.exportData()">
                            üì• Exportar
                        </button>
                        <button class="ai-btn ai-btn-primary" onclick="dashboard.refreshData()">
                            üîÑ Atualizar
                        </button>
                        <div class="theme-toggle-container">
                            <span style="color: var(--ai-text-muted);">üåô</span>
                            <button class="theme-toggle" onclick="dashboard.toggleTheme()"
                                    aria-label="Alternar tema claro/escuro"
                                    title="Clique para alternar o tema">
                            </button>
                            <span style="color: var(--ai-text-muted);">‚òÄÔ∏è</span>
                        </div>
                    </div>
                </div>
                <div class="metrics-top-grid" id="kpi-container">
                    <!-- 5 cards em linha √∫nica -->
                </div>
            </section>

            <!-- LINHA 2: FILTROS AVAN√áADOS -->
            <section class="ai-section">
                <div class="section-header">
                    <div class="header-content">
                        <h2 class="section-title">üéõÔ∏è Filtros Avan√ßados</h2>
                        <p class="section-subtitle">Filtre os dados por per√≠odo, status e categoria</p>
                    </div>
                </div>
                <div id="filters-container">
                    <!-- Filtros ser√£o renderizados aqui -->
                </div>
            </section>

            <!-- LINHA 3: INSIGHTS + ANALYTICS EM LINHA √öNICA -->
            <section class="ai-section">
                <div class="insights-analytics-grid">

                    <!-- COLUNA 1: INSIGHTS INTELIGENTES -->
                    <div>
                        <div class="section-header">
                            <div class="header-content">
                                <h2 class="section-title">ü§ñ Insights Inteligentes</h2>
                                <p class="section-subtitle">An√°lise preditiva e recomenda√ß√µes IA</p>
                            </div>
                        </div>
                        <div id="insights-container">
                            <!-- Insights da IA -->
                        </div>
                    </div>

                    <!-- COLUNA 2: ANALYTICS AVAN√áADOS -->
                    <div>
                        <div class="section-header">
                            <div class="header-content">
                                <h2 class="section-title">üìà Analytics Avan√ßados</h2>
                                <p class="section-subtitle">Dados detalhados e tend√™ncias</p>
                            </div>
                        </div>
                        <div id="analytics-container">
                            <!-- Analytics -->
                        </div>
                    </div>

                </div>
            </section>

            <!-- LINHA 4: VISUALIZA√á√ïES GR√ÅFICAS (DI√ÅRIAS) -->
            <section class="ai-section">
                <div class="section-header">
                    <div class="header-content">
                        <h2 class="section-title">üìä Visualiza√ß√µes Gr√°ficas</h2>
                        <p class="section-subtitle">An√°lises visuais em tempo real</p>
                    </div>
                    <div class="header-actions">
                        <button class="ai-btn ai-btn-secondary" onclick="chartsSystem.updateAllCharts()">
                            üîÑ Atualizar Gr√°ficos
                        </button>
                    </div>
                </div>
                <div class="visualizations-full" id="charts-container">
                    <!-- Gr√°ficos ser√£o renderizados aqui -->
                </div>
            </section>

            <!-- LINHA 5: TOP PRODUTOS + DISTRIBUI√á√ÉO EM LINHA √öNICA -->
            <section class="ai-section">
                <div class="products-distribution-grid">

                    <!-- COLUNA 1: TOP PRODUTOS - AN√ÅLISE ABC -->
                    <div>
                        <div class="section-header">
                            <div class="header-content">
                                <h2 class="section-title">üèÜ Top Produtos - An√°lise ABC</h2>
                                <p class="section-subtitle">Classifica√ß√£o por faturamento</p>
                            </div>
                        </div>
                        <div id="abc-container">
                            <!-- Gr√°fico ABC ser√° renderizado aqui -->
                        </div>
                    </div>

                    <!-- COLUNA 2: DISTRIBUI√á√ÉO POR CLASSIFICA√á√ÉO -->
                    <div>
                        <div class="section-header">
                            <div class="header-content">
                                <h2 class="section-title">üìä Distribui√ß√£o por Classifica√ß√£o</h2>
                                <p class="section-subtitle">Propor√ß√£o entre categorias A, B e C</p>
                            </div>
                        </div>
                        <div id="distribution-container">
                            <!-- Gr√°fico de distribui√ß√£o ser√° renderizado aqui -->
                        </div>
                    </div>

                </div>
            </section>

            <!-- LINHA 6: M√âTRICAS ESTRAT√âGICAS -->
            <section class="ai-section">
                <div class="section-header">
                    <div class="header-content">
                        <h2 class="section-title">üìà M√©tricas Estrat√©gicas</h2>
                        <p class="section-subtitle">Indicadores cr√≠ticos para tomada de decis√£o</p>
                    </div>
                </div>
                <div class="metrics-top-grid" id="strategic-container">
                    <!-- KPIs estrat√©gicos ser√£o renderizados aqui -->
                </div>
            </section>

        </main>

        <!-- Bot√£o Flutuante -->
        <button class="floating-action" onclick="dashboard.scrollToTop()" title="Voltar ao topo">
            ‚Üë
        </button>
    </div>

    <!-- Modal Container -->
    <div id="modal-container"></div>

    <!-- Scripts Premium - ORDEM CORRIGIDA -->
<script src="{{ url_for('static', filename='js/core/ai-engine.js') }}"></script>
<script src="{{ url_for('static', filename='js/services/api-integration.js') }}"></script>
<script src="{{ url_for('static', filename='js/components/modal-system.js') }}"></script>
<script src="{{ url_for('static', filename='js/components/filters-system.js') }}"></script>
<script src="{{ url_for('static', filename='js/components/charts-system.js') }}"></script>
<script src="{{ url_for('static', filename='js/components/dashboard-manager.js') }}"></script>


    <!-- Inicializa√ß√£o -->
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('üöÄ Inicializando FISGARONE AI Premium...');
            window.dashboard = new DashboardManager();
            await dashboard.initialize();
        });
    </script>
</body>
</html>